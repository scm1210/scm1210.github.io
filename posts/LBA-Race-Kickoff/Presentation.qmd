---
title: "Data-Driven Approaches to Building Equitable Language-Based Mental Health Assessments "
author: "Steven"
date: "`r Sys.Date()`"
format: 
  revealjs:
    css: styles.css
    center: true  
    scrollable: true
    smaller: true
    controls: true
    progress: true
    keyboard: true
    slide-number: true 
    slideNumberFormat: "%current% / %total%"
    navigationMode: 'linear'
    transition: "slide"
    transitionSpeed: "fast"
    touch: true  
execute:
  fig-width: 6
  fig-height: 4
---

# The Problem

:::: {.inline-fragment}
:::{.fragment}
-   The U.S. is experiencing a mental health crisis (anxiety & depression). 
:::
:::{.fragment}
-   Access to care is unequal, especially for racial and ethnic minority groups.
:::
:::{.fragment} 
-   Language-based assessments promise scalable screening but recent evidence shows reduced performance for minority groups — risking widened disparities (see [Rai et al., 2024](https://www.pnas.org/doi/10.1073/pnas.2319837121)).
:::
:::{.fragment}
<a href="https://docs.google.com/document/d/1HglipIcEimjoXzj3AxEaWgLA2uyAOKWmJkqRe-2fgYc/edit?tab=t.0"
   target="_blank" rel="noopener noreferrer"
   style="display:inline-block;padding:10px 16px;border-radius:6px;background:#197278;color:#fff;text-decoration:none;font-weight:600;">
  Open Original Proposal (new tab)
</a>
:::
::::


# Gap in the Literature
::::{.inline-fragment}
:::{.fragment}
-   Limited research testing whether language-based tools (especially modern LLMs) are equally sensitive across racial/ethnic groups.
:::
:::{.fragment}
-   Identify linguistic markers of distress within minority groups to inform equitable tools.
:::
::::


# Design

-  Two-session online longitudinal study.
    -   Baseline: open-text responses about mood, motivation, sleep (≈25 min) + GAD-7 + PHQ-8.
    -   Follow-up (3 week): repeat assessments (≈10 min) and collect information on posts from social media.
  
-   N = 1,600 (ages 18–40), balanced by race/ethnicity (White, Black, Latino, Asian).
<!-- -->
-   **Recruitment platform:** Online panel (e.g., Prolific/CloudResearch) with demographic quotas.
-   Pilot: *N = 240 to validate prompts, retention, and preprocessing pipelines.*

----

```{r}
#| fig-height: 8
#| fig-width: 8
#| paged-print: false
library(ggplot2)
library(patchwork)



plot_aes = theme_minimal() +
  theme(legend.position = "bottom",
        legend.text = element_text(size = 12),
        text = element_text(size = 12, family = "Futura Medium"),
        axis.text = element_text(color = "black"),
        axis.ticks.y = element_blank())

palette <- c("#197278", "#9a2a2b", "#f18f01", "#ffd500")


# ---- Data ----
timeline_df <- data.frame(week = 1:3)

timeline_df$duration_min <- with(timeline_df,
  ifelse(week == 1, 25,
         ifelse(week == 3, 10, NA_real_))
)

timeline_df$session <- with(timeline_df,
  ifelse(week == 1, "Baseline",
         ifelse(week == 3, "Follow-up", NA_character_))
)
sample_counts <- data.frame(
  race = factor(c("White", "Black", "Latino", "Asian"),
                levels = c("White", "Black", "Latino", "Asian")),
  n = c(400, 400, 400, 400)
)


base_size <- 9


p_timeline <- ggplot(timeline_df, aes(x = week, y = 1)) +
  # horizontal baseline from day 1 to 7
  geom_segment(aes(x = 1, xend = 3, y = 1, yend = 1),
               color = "gray60", size = 0.6) +

  # only plot points where duration_min is NOT NA
  geom_point(data = subset(timeline_df, !is.na(duration_min)),
             aes(size = duration_min),
             color = "#197278") +

  # label sessions (only for non-NA rows)
  geom_text(data = subset(timeline_df, !is.na(duration_min)),
            aes(label = session, y = 1.15),
            size = 4, fontface = "bold") +

  # label durations
  geom_text(data = subset(timeline_df, !is.na(duration_min)),
            aes(label = paste0(duration_min, " min"), y = 0.85),
            size = 3.5) +

  scale_x_continuous(breaks = 1:3, labels = 1:3, limits = c(0.5, 3.5)) +
  scale_size_continuous(range = c(4, 8), guide = "none") +

  labs(x = "Week", y = NULL, title = "Study timeline (Week 1–3)") +
  plot_aes +
  theme(
    axis.text.y = element_blank(),
    axis.ticks = element_blank(),
    panel.grid = element_blank(),
    plot.title = element_text(size = 12, face = "bold",hjust = 0.5)
  ) 

p_counts <- ggplot(sample_counts, aes(x = race, y = n, fill = race)) +
  geom_col(width = 0.6, show.legend = FALSE) +
  geom_text(aes(label = n), vjust = -0.4, size = 3) +
  scale_y_continuous(expand = expansion(mult = c(0, 0.03)), limits = c(0, 440)) +
  labs(x = NULL, y = "N (participants)", title = "Planned sample by race / ethnicity") +
  theme_minimal(base_size = base_size) +
  scale_fill_manual(values = palette) +
  plot_aes + 
  theme(
    axis.text.x = element_text(face = "bold", size = base_size),
    axis.title.y = element_text(size = base_size),
    plot.title = element_text(size = 12, face = "bold",hjust = 0.5),
    plot.margin = margin(6, 6, 6, 6)
  ) 

combined <- p_timeline / p_counts + plot_layout(heights = c(0.9, 1.25))

combined
```


# Measures

---

## Depression-related Open-ended Questions
-   Assessed via written response

```{r}
library(DT)

# Create the data frame
depression_questions <- data.frame(
  Question_Order = 1:9,
  Question_Wording = c(
    "Could you describe your general mood in the past 2 weeks? Has your mood been higher or lower than usual? Are there any particular emotions that you have been feeling a lot lately?",
    "How would you describe your level of interest in these things in the past 2 weeks? Has it been higher or lower than usual?",
    "How have you been eating in the past 2 weeks? Is there anything that has been different compared to usual (e.g., eating more or less than usual)?",
    "How would you describe your sleep patterns lately? Is there anything that has been different compared to usual?",
    "In the past 2 weeks, has sitting still, moving, or talking been harder or easier than usual?",
    "Sometimes we feel tired and exhausted, and sometimes we feel full of energy. How would you describe your energy level in the past 2 weeks?",
    "How have you been feeling about yourself in the past 2 weeks?",
    "How would you describe your thinking, concentration, and decision making in the past 2 weeks? Is there anything that has been harder or easier than usual?",
    "Think about your life overall. Is there anything that you are particularly satisfied or dissatisfied with?"
  ),
  stringsAsFactors = FALSE
)

# Render as a DT table
datatable(
  depression_questions,
  options = list(
    scrollX = TRUE,      # allow horizontal scrolling
     scrollY = "300px",   # vertical scrolling height
    pageLength = 9,      # show all 9 questions at once
    autoWidth = TRUE
  ),
  rownames = FALSE
)
```

--- 

## Main Outcomes
-   **GAD-7 (anxiety; measured at both time points)** 
-   **PHQ-8 (depression; measured at both time points)**

---

## Demographics

::::: panel-tabset

### Age
- **Age:** ___
- **State of residence:** ___

### Gender 
:::: {.scrollable}
```{r}
gender_df <- tibble::tibble(
  Question = c(
    "Sex assigned at birth",
    "Identify with a gender different from sex assigned at birth?",
    "Gender identity",
    "Sexual identity/orientation (select all)"
  ),
  Options = c(
    "Male; Female; Other (specify); I prefer not to answer",
    "Yes; No; Unsure; Prefer not to answer",
    "Male; Female; Non-binary; Unsure; Other (specify); Prefer not to answer",
    "Straight/heterosexual; Gay / Lesbian / Homosexual; Bisexual / Pansexual / Queer; Asexual / Unsure / Other (specify); Prefer not to answer"
  )
)

# Render as a DT table
datatable(
  gender_df,
  rownames = FALSE,
  escape = FALSE,
  options = list(
    scrollX = TRUE,       # horizontal scrolling
    scrollY = "400px",    # vertical scrolling
    paging = FALSE,       # show all rows in scrollable panel
    autoWidth = TRUE
  )
)
```

::::

### Race 
:::: {.scrollable}
```{r}
race_df <- tibble::tibble(
  Question = c(
    "Race (select all)",
    "Ethnicity"
  ),
  Options = c(
    "White; Black or African American; Asian or Asian American; American Indian or Alaska Native; Middle Eastern; Native Hawaiian or Other Pacific Islander; Other (specify); Prefer not to answer",
    "Hispanic/Latino; Not Hispanic/Latino; Prefer not to answer"
  )
)

# Render as a DT table
datatable(
  race_df,
  rownames = FALSE,
  escape = FALSE,
  options = list(
    scrollX = TRUE,        # horizontal scrolling
    scrollY = "300px",     # vertical scrolling
    paging = FALSE,        # show all rows
    autoWidth = TRUE
  )
)
```


::::

### SES 
:::: {.scrollable}

```{r}
ses_df <- tibble::tibble(
  Question = c(
    "Education (highest degree attained)",
    "Household income",
    "Household composition"
  ),
  Options = c(
    "Less than high school; High school / GED; Associate’s; Bachelor’s; Master’s; Professional (MD, JD, etc.); Doctorate; Other (specify)",
    "< $5,000 … > $200,000; Don’t know / Prefer not to answer",
    "# people in household; # children; # adults; # adults bringing in income"
  )
)

# Render as a DT table
datatable(
  ses_df,
  rownames = FALSE,
  escape = FALSE,
  options = list(
    scrollX = TRUE,        # horizontal scrolling
    scrollY = "400px",     # vertical scrolling
    paging = FALSE,        # show all rows
    autoWidth = TRUE
  )
)
```

::::

:::::

## Other Measures...
-   **Social media use (follow-up only)**
-   **Satisfaction with Life Short Scale (both timepoints)**
-   **UCLA Loneliness Scale (both time points)**
-   **Social Media derived Language-based Assessments**
-   **Billingual-ism**

# Aim 1 — Sensitivity Across Groups

::::{.inline-fragment}

:::{.fragment}
**Goal:** Test prediction of current and future anxiety/depression across four racial/ethnic groups (N_total = 1,600; 400 per group).  
**Hypothesis:** Reduced sensitivity for Black, Latino, and Asian participants vs. White participants.
:::

:::{.fragment}
**Primary Analyses:**  

- Moderation: `lm(symptoms ~ race * ling_feat, data = data)`  
- Linguistic features include (see [Eichstaedt et al., 2021](https://psycnet.apa.org/record/2021-99502-001), [Kern et al., 2016](https://pubmed.ncbi.nlm.nih.gov/27505683/) for more info):  
  - Sentiment, pronouns, emotion words (LIWC)  
  - LLM-based inferences (e.g., GPT-4, LLaMA)  
  - Contextual embeddings (e.g., BERT, RoBERTa)  

:::
::::

---

# Aim 2 — Markers in Minority Groups

::::{.inline-fragment}

:::{.fragment}
**Goal:** Exploratory/descriptive identification of linguistic markers in minority groups.  

- Sentiment, pronouns, emotion words (LIWC)  
- LLM-derived inferences
:::

:::{.fragment}
**Analyses:**  
- Descriptive statistics of linguistic features by racial/ethnic group  
- Identify features associated with higher/lower symptom levels  
- Exploratory correlations and regressions for hypothesis generation
:::

::::



# Questions we have for you

-   What other demographic factors should we consider?
-   What other ways should we measure race?
-   What are the current best practices for assessing race and ethnicity in psychological research?
-   How to handle people with multi-racial identities in modeling 


# Brain Storm 

<a href="https://docs.google.com/document/d/1raGwbmpaFNkE00qS63XdQwie429FW71E889Kod-NV0M/edit"
   target="_blank" rel="noopener noreferrer"
   style="display:inline-block;padding:10px 16px;border-radius:6px;background:#197278;color:#fff;text-decoration:none;font-weight:600;">
  Open Google Doc (new tab)
</a>

::: 
<iframe
  src="https://docs.google.com/document/d/1raGwbmpaFNkE00qS63XdQwie429FW71E889Kod-NV0M/preview"
  width="100%" height="750" frameborder="0">
</iframe>
:::